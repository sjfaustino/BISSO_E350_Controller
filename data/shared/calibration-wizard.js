class CalibrationWizard{constructor(t,n={}){this.wizardType=t,this.options=n,this.currentStep=0,this.steps=[],this.results={},this.overlay=null,this.container=null,this.initWizard()}initWizard(){switch(this.wizardType){case"encoder":this.steps=this.getEncoderCalibrationSteps();break;case"motion":this.steps=this.getMotionAccuracySteps();break;case"spindle":this.steps=this.getSpindleAlignmentSteps();break;case"tuning":this.steps=this.getAutoTuningSteps();break;default:return void console.error("[Wizard] Unknown wizard type:",this.wizardType)}this.createWizardUI(),this.showStep(0)}getEncoderCalibrationSteps(){return[{title:"Encoder Calibration - Introduction",content:'\n                    <div style="padding: 20px;">\n                        <h3>üìè Encoder Calibration Wizard</h3>\n                        <p>This wizard will guide you through calibrating the encoder for precise position feedback.</p>\n                        <div style="background: var(--bg-secondary); padding: 15px; border-radius: 8px; margin: 20px 0;">\n                            <h4>Prerequisites:</h4>\n                            <ul>\n                                <li>‚úì Machine must be powered and homed</li>\n                                <li>‚úì E-stop must be released</li>\n                                <li>‚úì Clear workspace around machine</li>\n                                <li>‚úì Dial indicator or measurement tool ready</li>\n                            </ul>\n                        </div>\n                        <p><strong>Estimated time:</strong> 10-15 minutes</p>\n                    </div>\n                ',validation:()=>{const t=AppState.data;return!t.safety?.estop||(Toast.error("E-stop is active. Release E-stop to continue."),!1)}},{title:"Step 1: Initial Position",content:'\n                    <div style="padding: 20px;">\n                        <h3>Initial Position Setup</h3>\n                        <p>Move the X-axis to the reference position (home position).</p>\n                        <div style="background: var(--bg-secondary); padding: 15px; border-radius: 8px; margin: 20px 0;">\n                            <h4>Current Position:</h4>\n                            <div id="wizard-current-pos" style="font-size: 24px; font-weight: bold; margin: 10px 0;">\n                                X: <span id="wizard-x-pos">--</span> mm\n                            </div>\n                        </div>\n                        <div style="margin: 20px 0;">\n                            <button class="btn btn-primary" onclick="CalibrationWizard.moveToHome()">\n                                üè† Move to Home\n                            </button>\n                        </div>\n                        <p style="color: var(--text-secondary); font-size: 14px;">\n                            ‚ö†Ô∏è Ensure the path is clear before moving the machine.\n                        </p>\n                    </div>\n                ',onEnter:()=>{this.updatePositionDisplay(),this.positionInterval=setInterval(()=>this.updatePositionDisplay(),500)},onExit:()=>{this.positionInterval&&clearInterval(this.positionInterval)}},{title:"Step 2: Measure Reference",content:'\n                    <div style="padding: 20px;">\n                        <h3>Reference Measurement</h3>\n                        <p>Place your measurement tool at the reference position and record the reading.</p>\n                        <div style="margin: 20px 0;">\n                            <label style="display: block; margin-bottom: 10px;">\n                                <strong>Reference Reading (mm):</strong>\n                            </label>\n                            <input\n                                type="number"\n                                id="wizard-ref-reading"\n                                step="0.001"\n                                style="width: 200px; padding: 8px; font-size: 16px;"\n                                placeholder="0.000"\n                            />\n                        </div>\n                        <div style="background: var(--bg-secondary); padding: 15px; border-radius: 8px; margin: 20px 0;">\n                            <p><strong>Encoder Reading:</strong> <span id="wizard-encoder-ref">--</span> counts</p>\n                        </div>\n                    </div>\n                ',onEnter:()=>{const t=AppState.data,n=document.getElementById("wizard-encoder-ref");n&&(n.textContent=(t.axis?.x?.encoder_count||0).toString())}},{title:"Step 3: Move to Test Position",content:'\n                    <div style="padding: 20px;">\n                        <h3>Test Position Movement</h3>\n                        <p>Move the X-axis to a known distance from the reference position.</p>\n                        <div style="margin: 20px 0;">\n                            <label style="display: block; margin-bottom: 10px;">\n                                <strong>Target Distance (mm):</strong>\n                            </label>\n                            <input\n                                type="number"\n                                id="wizard-target-dist"\n                                value="100"\n                                step="10"\n                                style="width: 200px; padding: 8px; font-size: 16px;"\n                            />\n                            <button class="btn btn-primary" style="margin-left: 10px;" onclick="CalibrationWizard.moveRelative()">\n                                ‚û°Ô∏è Move\n                            </button>\n                        </div>\n                        <div style="background: var(--bg-secondary); padding: 15px; border-radius: 8px; margin: 20px 0;">\n                            <p><strong>Current Position:</strong> <span id="wizard-current-x">--</span> mm</p>\n                            <p><strong>Encoder Count:</strong> <span id="wizard-encoder-test">--</span> counts</p>\n                        </div>\n                    </div>\n                ',onEnter:()=>{this.updateTestPositionDisplay(),this.testPosInterval=setInterval(()=>this.updateTestPositionDisplay(),500)},onExit:()=>{this.testPosInterval&&clearInterval(this.testPosInterval)}},{title:"Step 4: Verify and Calculate",content:'\n                    <div style="padding: 20px;">\n                        <h3>Verification and Calculation</h3>\n                        <p>Measure the actual position with your measurement tool and enter the reading.</p>\n                        <div style="margin: 20px 0;">\n                            <label style="display: block; margin-bottom: 10px;">\n                                <strong>Actual Position Reading (mm):</strong>\n                            </label>\n                            <input\n                                type="number"\n                                id="wizard-actual-reading"\n                                step="0.001"\n                                style="width: 200px; padding: 8px; font-size: 16px;"\n                                placeholder="100.000"\n                            />\n                        </div>\n                        <div id="wizard-calibration-results" style="background: var(--bg-secondary); padding: 15px; border-radius: 8px; margin: 20px 0;">\n                            <p><em>Enter measurement to see calibration results...</em></p>\n                        </div>\n                        <button class="btn btn-primary" onclick="CalibrationWizard.calculateCalibration()">\n                            üßÆ Calculate Calibration Factor\n                        </button>\n                    </div>\n                '},{title:"Calibration Complete",content:'\n                    <div style="padding: 20px;">\n                        <h3>‚úÖ Calibration Complete</h3>\n                        <div style="background: var(--bg-secondary); padding: 20px; border-radius: 8px; margin: 20px 0;">\n                            <h4>Calibration Results:</h4>\n                            <div id="wizard-final-results" style="margin: 15px 0; font-size: 16px;">\n                                <p><strong>Calibration Factor:</strong> <span id="wizard-cal-factor">--</span> counts/mm</p>\n                                <p><strong>Position Error:</strong> <span id="wizard-pos-error">--</span> mm</p>\n                                <p><strong>Accuracy:</strong> <span id="wizard-accuracy">--</span>%</p>\n                            </div>\n                        </div>\n                        <div style="margin: 20px 0;">\n                            <button class="btn btn-success" onclick="CalibrationWizard.applyCalibration()">\n                                ‚úì Apply Calibration\n                            </button>\n                            <button class="btn btn-secondary" style="margin-left: 10px;" onclick="CalibrationWizard.exportResults()">\n                                üíæ Export Results\n                            </button>\n                        </div>\n                        <p style="color: var(--text-secondary); font-size: 14px; margin-top: 20px;">\n                            ‚ÑπÔ∏è The calibration factor has been calculated. Click "Apply Calibration" to save it to the system.\n                        </p>\n                    </div>\n                ',onEnter:()=>{this.displayFinalResults()}}]}getMotionAccuracySteps(){return[{title:"Motion Accuracy Test - Introduction",content:'\n                    <div style="padding: 20px;">\n                        <h3>üéØ Motion Accuracy Test</h3>\n                        <p>This wizard tests the accuracy of motion across multiple positions and calculates repeatability.</p>\n                        <div style="background: var(--bg-secondary); padding: 15px; border-radius: 8px; margin: 20px 0;">\n                            <h4>Test Parameters:</h4>\n                            <ul>\n                                <li>Test Points: 5 positions</li>\n                                <li>Repetitions: 3 per position</li>\n                                <li>Axes Tested: X, Y, Z</li>\n                            </ul>\n                        </div>\n                        <p><strong>Estimated time:</strong> 15-20 minutes</p>\n                    </div>\n                '},{title:"Running Tests",content:'\n                    <div style="padding: 20px;">\n                        <h3>Test in Progress</h3>\n                        <div style="background: var(--bg-secondary); padding: 20px; border-radius: 8px; margin: 20px 0;">\n                            <div id="wizard-test-progress" style="margin-bottom: 15px;">\n                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">\n                                    <span>Progress:</span>\n                                    <span id="wizard-test-percent">0%</span>\n                                </div>\n                                <div style="height: 20px; background: var(--bg-tertiary); border-radius: 10px; overflow: hidden;">\n                                    <div id="wizard-test-bar" style="height: 100%; width: 0%; background: var(--color-optimal); transition: width 0.3s;"></div>\n                                </div>\n                            </div>\n                            <div id="wizard-test-status" style="margin-top: 15px;">\n                                <p>Status: <span id="wizard-status-text">Ready to start</span></p>\n                                <p>Current Position: <span id="wizard-test-pos">--</span></p>\n                            </div>\n                        </div>\n                        <button class="btn btn-primary" id="wizard-start-test" onclick="CalibrationWizard.startMotionTest()">\n                            ‚ñ∂Ô∏è Start Test\n                        </button>\n                    </div>\n                '},{title:"Test Results",content:'\n                    <div style="padding: 20px;">\n                        <h3>üìä Test Results</h3>\n                        <div id="wizard-motion-results" style="background: var(--bg-secondary); padding: 20px; border-radius: 8px; margin: 20px 0;">\n                            <h4>Accuracy Metrics:</h4>\n                            <div style="margin: 15px 0;">\n                                <p><strong>X-Axis Repeatability:</strong> <span id="result-x-repeat">--</span> mm</p>\n                                <p><strong>Y-Axis Repeatability:</strong> <span id="result-y-repeat">--</span> mm</p>\n                                <p><strong>Z-Axis Repeatability:</strong> <span id="result-z-repeat">--</span> mm</p>\n                                <p style="margin-top: 15px;"><strong>Overall Accuracy:</strong> <span id="result-overall">--</span>%</p>\n                            </div>\n                        </div>\n                        <button class="btn btn-primary" onclick="CalibrationWizard.exportMotionResults()">\n                            üíæ Export Results\n                        </button>\n                    </div>\n                '}]}getSpindleAlignmentSteps(){return[{title:"Spindle Alignment - Introduction",content:'\n                    <div style="padding: 20px;">\n                        <h3>üîÑ Spindle Alignment Wizard</h3>\n                        <p>This wizard helps verify and adjust spindle alignment for optimal cutting performance.</p>\n                        <div style="background: var(--bg-secondary); padding: 15px; border-radius: 8px; margin: 20px 0;">\n                            <h4>Safety Requirements:</h4>\n                            <ul>\n                                <li>‚ö†Ô∏è Remove blade before testing</li>\n                                <li>‚úì Clear workspace</li>\n                                <li>‚úì Dial indicator ready</li>\n                            </ul>\n                        </div>\n                        <p><strong>Estimated time:</strong> 20-30 minutes</p>\n                    </div>\n                '},{title:"Vertical Alignment Check",content:'\n                    <div style="padding: 20px;">\n                        <h3>Vertical Alignment</h3>\n                        <p>Check spindle perpendicularity to the work surface.</p>\n                        <div style="margin: 20px 0;">\n                            <label style="display: block; margin-bottom: 10px;">\n                                <strong>Front Reading (mm):</strong>\n                            </label>\n                            <input type="number" id="wizard-align-front" step="0.001" style="width: 200px; padding: 8px;"/>\n                            <label style="display: block; margin: 15px 0 10px 0;">\n                                <strong>Back Reading (mm):</strong>\n                            </label>\n                            <input type="number" id="wizard-align-back" step="0.001" style="width: 200px; padding: 8px;"/>\n                        </div>\n                        <div id="wizard-align-result" style="background: var(--bg-secondary); padding: 15px; border-radius: 8px; margin: 20px 0;">\n                            <p><em>Enter readings to see alignment results...</em></p>\n                        </div>\n                        <button class="btn btn-primary" onclick="CalibrationWizard.calculateAlignment()">\n                            üßÆ Calculate Alignment\n                        </button>\n                    </div>\n                '},{title:"Alignment Complete",content:'\n                    <div style="padding: 20px;">\n                        <h3>‚úÖ Alignment Check Complete</h3>\n                        <div id="wizard-alignment-summary" style="background: var(--bg-secondary); padding: 20px; border-radius: 8px; margin: 20px 0;">\n                            <h4>Alignment Results:</h4>\n                            <p><strong>Vertical Deviation:</strong> <span id="align-deviation">--</span> mm</p>\n                            <p><strong>Status:</strong> <span id="align-status">--</span></p>\n                        </div>\n                        <button class="btn btn-primary" onclick="CalibrationWizard.exportAlignmentResults()">\n                            üíæ Export Results\n                        </button>\n                    </div>\n                '}]}getAutoTuningSteps(){return[{title:"Auto-Tuning - Introduction",content:'\n                    <div style="padding: 20px;">\n                        <h3>‚öôÔ∏è Automated Parameter Tuning</h3>\n                        <p>This wizard automatically tunes motion parameters for optimal performance.</p>\n                        <div style="background: var(--bg-secondary); padding: 15px; border-radius: 8px; margin: 20px 0;">\n                            <h4>Parameters to Tune:</h4>\n                            <ul>\n                                <li>Acceleration profiles</li>\n                                <li>Jerk limits</li>\n                                <li>Velocity profiles</li>\n                                <li>PID gains (if applicable)</li>\n                            </ul>\n                        </div>\n                        <p><strong>Estimated time:</strong> 10-15 minutes</p>\n                        <p style="color: var(--color-warning); margin-top: 15px;">\n                            ‚ö†Ô∏è Machine will make rapid test movements. Ensure workspace is clear.\n                        </p>\n                    </div>\n                '},{title:"Select Parameters",content:'\n                    <div style="padding: 20px;">\n                        <h3>Parameter Selection</h3>\n                        <p>Select which parameters to tune:</p>\n                        <div style="margin: 20px 0;">\n                            <label style="display: block; margin: 10px 0;">\n                                <input type="checkbox" id="tune-accel" checked /> Acceleration\n                            </label>\n                            <label style="display: block; margin: 10px 0;">\n                                <input type="checkbox" id="tune-jerk" checked /> Jerk Limits\n                            </label>\n                            <label style="display: block; margin: 10px 0;">\n                                <input type="checkbox" id="tune-velocity" checked /> Velocity\n                            </label>\n                        </div>\n                    </div>\n                '},{title:"Tuning in Progress",content:'\n                    <div style="padding: 20px;">\n                        <h3>Auto-Tuning...</h3>\n                        <div style="background: var(--bg-secondary); padding: 20px; border-radius: 8px; margin: 20px 0;">\n                            <div id="wizard-tuning-progress">\n                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">\n                                    <span>Progress:</span>\n                                    <span id="wizard-tuning-percent">0%</span>\n                                </div>\n                                <div style="height: 20px; background: var(--bg-tertiary); border-radius: 10px; overflow: hidden;">\n                                    <div id="wizard-tuning-bar" style="height: 100%; width: 0%; background: var(--color-optimal); transition: width 0.3s;"></div>\n                                </div>\n                            </div>\n                            <p id="wizard-tuning-status" style="margin-top: 15px;">Status: Initializing...</p>\n                        </div>\n                    </div>\n                '},{title:"Tuning Complete",content:'\n                    <div style="padding: 20px;">\n                        <h3>‚úÖ Auto-Tuning Complete</h3>\n                        <div style="background: var(--bg-secondary); padding: 20px; border-radius: 8px; margin: 20px 0;">\n                            <h4>Optimized Parameters:</h4>\n                            <div id="wizard-tuned-params" style="margin: 15px 0;">\n                                <p><strong>Acceleration:</strong> <span id="tuned-accel">--</span> mm/s¬≤</p>\n                                <p><strong>Jerk:</strong> <span id="tuned-jerk">--</span> mm/s¬≥</p>\n                                <p><strong>Max Velocity:</strong> <span id="tuned-vel">--</span> mm/s</p>\n                            </div>\n                            <p style="margin-top: 15px;"><strong>Improvement:</strong> <span id="tuned-improvement">--</span>% faster</p>\n                        </div>\n                        <button class="btn btn-success" onclick="CalibrationWizard.applyTunedParams()">\n                            ‚úì Apply Parameters\n                        </button>\n                    </div>\n                '}]}createWizardUI(){this.overlay=document.createElement("div"),this.overlay.className="wizard-overlay",this.overlay.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.7);\n            z-index: 9999;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 20px;\n        ",this.container=document.createElement("div"),this.container.className="wizard-container",this.container.style.cssText="\n            background: var(--bg-primary);\n            border-radius: 12px;\n            box-shadow: var(--shadow-lg);\n            max-width: 700px;\n            width: 100%;\n            max-height: 90vh;\n            overflow-y: auto;\n            position: relative;\n        ",this.container.innerHTML='\n            <div class="wizard-header" style="padding: 20px; border-bottom: 1px solid var(--border-color); position: sticky; top: 0; background: var(--bg-primary); z-index: 10;">\n                <div style="display: flex; justify-content: space-between; align-items: center;">\n                    <h2 id="wizard-title" style="margin: 0;">Calibration Wizard</h2>\n                    <button class="wizard-close" onclick="CalibrationWizard.activeWizard?.close()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: var(--text-secondary);">√ó</button>\n                </div>\n                <div id="wizard-progress" style="margin-top: 15px;">\n                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 12px; color: var(--text-secondary);">\n                        <span>Step <span id="wizard-step-num">1</span> of <span id="wizard-step-total">1</span></span>\n                        <span id="wizard-step-percent">0%</span>\n                    </div>\n                    <div style="height: 4px; background: var(--bg-tertiary); border-radius: 2px; overflow: hidden;">\n                        <div id="wizard-progress-bar" style="height: 100%; width: 0%; background: var(--color-optimal); transition: width 0.3s;"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="wizard-content" id="wizard-content" style="padding: 0; min-height: 300px;">\n                \x3c!-- Step content goes here --\x3e\n            </div>\n            <div class="wizard-footer" style="padding: 20px; border-top: 1px solid var(--border-color); display: flex; justify-content: space-between; position: sticky; bottom: 0; background: var(--bg-primary);">\n                <button class="btn btn-secondary" id="wizard-prev" onclick="CalibrationWizard.activeWizard?.previousStep()">‚Üê Previous</button>\n                <button class="btn btn-primary" id="wizard-next" onclick="CalibrationWizard.activeWizard?.nextStep()">Next ‚Üí</button>\n            </div>\n        ',this.overlay.appendChild(this.container),document.body.appendChild(this.overlay),document.getElementById("wizard-step-total").textContent=this.steps.length}showStep(t){if(t<0||t>=this.steps.length)return;const n=this.steps[t];this.currentStep=t,document.getElementById("wizard-title").textContent=n.title,document.getElementById("wizard-step-num").textContent=t+1;const e=(t+1)/this.steps.length*100;document.getElementById("wizard-progress-bar").style.width=e+"%",document.getElementById("wizard-step-percent").textContent=Math.round(e)+"%",document.getElementById("wizard-content").innerHTML=n.content;const i=document.getElementById("wizard-prev"),a=document.getElementById("wizard-next");i.disabled=0===t,i.style.opacity=0===t?"0.5":"1",t===this.steps.length-1?(a.textContent="Finish",a.className="btn btn-success"):(a.textContent="Next ‚Üí",a.className="btn btn-primary"),n.onEnter&&n.onEnter.call(this)}nextStep(){const t=this.steps[this.currentStep];t.validation&&!t.validation.call(this)||(t.onExit&&t.onExit.call(this),this.currentStep<this.steps.length-1?this.showStep(this.currentStep+1):this.finish())}previousStep(){const t=this.steps[this.currentStep];t.onExit&&t.onExit.call(this),this.currentStep>0&&this.showStep(this.currentStep-1)}finish(){Toast.success("Wizard completed successfully!"),this.close()}close(){this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),CalibrationWizard.activeWizard=null}updatePositionDisplay(){const t=AppState.data,n=document.getElementById("wizard-x-pos");n&&(n.textContent=(t.axis?.x?.position_mm||0).toFixed(3))}updateTestPositionDisplay(){const t=AppState.data,n=document.getElementById("wizard-current-x"),e=document.getElementById("wizard-encoder-test");n&&(n.textContent=(t.axis?.x?.position_mm||0).toFixed(3)),e&&(e.textContent=(t.axis?.x?.encoder_count||0).toString())}displayFinalResults(){const t=document.getElementById("wizard-cal-factor"),n=document.getElementById("wizard-pos-error"),e=document.getElementById("wizard-accuracy");this.results.calibrationFactor&&t&&(t.textContent=this.results.calibrationFactor.toFixed(3)),this.results.positionError&&n&&(n.textContent=this.results.positionError.toFixed(3)),this.results.accuracy&&e&&(e.textContent=this.results.accuracy.toFixed(2))}static moveToHome(){Toast.info("Moving to home position..."),console.log("[Wizard] Move to home")}static moveRelative(){const t=document.getElementById("wizard-target-dist").value;Toast.info(`Moving ${t}mm...`),console.log("[Wizard] Move relative:",t)}static calculateCalibration(){const t=parseFloat(document.getElementById("wizard-ref-reading").value),n=parseFloat(document.getElementById("wizard-actual-reading").value);if(isNaN(t)||isNaN(n))return void Toast.error("Please enter valid measurements");const e=n-t,i=AppState.data,a=(i.axis?.x?.encoder_count||1e3)/e,r=Math.abs(e-100),s=Math.max(0,100*(1-r/100));CalibrationWizard.activeWizard&&(CalibrationWizard.activeWizard.results={calibrationFactor:a,positionError:r,accuracy:s});const o=document.getElementById("wizard-calibration-results");o&&(o.innerHTML=`\n                <h4>Calculated Values:</h4>\n                <p><strong>Calibration Factor:</strong> ${a.toFixed(3)} counts/mm</p>\n                <p><strong>Position Error:</strong> ${r.toFixed(3)} mm</p>\n                <p><strong>Accuracy:</strong> ${s.toFixed(2)}%</p>\n            `),Toast.success("Calibration calculated!")}static applyCalibration(){Toast.success("Calibration applied successfully!"),console.log("[Wizard] Apply calibration:",CalibrationWizard.activeWizard?.results)}static exportResults(){const t=CalibrationWizard.activeWizard?.results||{},n=`Encoder Calibration Results\nGenerated: ${(new Date).toLocaleString()}\n\nCalibration Factor: ${t.calibrationFactor||"--"} counts/mm\nPosition Error: ${t.positionError||"--"} mm\nAccuracy: ${t.accuracy||"--"}%\n`;Utils.downloadFile(`calibration-${Date.now()}.txt`,n,"text/plain"),Toast.success("Results exported!")}static startMotionTest(){Toast.info("Starting motion accuracy test...");let t=0;const n=setInterval(()=>{t+=10;const e=document.getElementById("wizard-test-bar"),i=document.getElementById("wizard-test-percent"),a=document.getElementById("wizard-status-text");e&&(e.style.width=t+"%"),i&&(i.textContent=t+"%"),a&&(a.textContent=`Testing position ${Math.floor(t/20)+1}/5`),t>=100&&(clearInterval(n),a&&(a.textContent="Test complete!"),Toast.success("Motion test completed!"))},1e3)}static exportMotionResults(){Toast.success("Motion test results exported!")}static calculateAlignment(){const t=parseFloat(document.getElementById("wizard-align-front").value),n=parseFloat(document.getElementById("wizard-align-back").value);if(isNaN(t)||isNaN(n))return void Toast.error("Please enter valid readings");const e=Math.abs(t-n),i=document.getElementById("wizard-align-result");if(i){let t="OK",n="var(--color-optimal)";e>.05&&(t="Needs Adjustment",n="var(--color-warning)"),e>.1&&(t="Critical - Adjust Immediately",n="var(--color-critical)"),i.innerHTML=`\n                <h4>Alignment Analysis:</h4>\n                <p><strong>Deviation:</strong> ${e.toFixed(3)} mm</p>\n                <p><strong>Status:</strong> <span style="color: ${n};">${t}</span></p>\n            `}Toast.success("Alignment calculated!")}static exportAlignmentResults(){Toast.success("Alignment results exported!")}static applyTunedParams(){Toast.success("Tuned parameters applied!")}static launch(t){CalibrationWizard.activeWizard&&CalibrationWizard.activeWizard.close(),CalibrationWizard.activeWizard=new CalibrationWizard(t)}}CalibrationWizard.activeWizard=null,window.CalibrationWizard=CalibrationWizard;