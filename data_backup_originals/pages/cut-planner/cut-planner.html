<!-- Cut Planner Page -->
<div class="page-header">
    <h1>Cut Planner</h1>
    <p>Create cutting jobs without writing G-code. Select a job type, enter parameters, preview, and run.</p>
</div>

<div class="card-grid">
    <!-- Single Linear Cut -->
    <div class="card" id="card-single-cut">
        <div class="card-header">
            <h2>Single Linear Cut</h2>
        </div>
        <div class="card-content">
            <p class="card-description">One straight cut along the Y-axis at a fixed depth.</p>
            <div class="form-grid">
                <div class="form-group">
                    <label for="single-start-y">Start Y (mm)</label>
                    <input type="number" id="single-start-y" value="0" step="1">
                </div>
                <div class="form-group">
                    <label for="single-end-y">End Y (mm)</label>
                    <input type="number" id="single-end-y" value="100" step="1">
                </div>
                <div class="form-group">
                    <label for="single-depth">Cut Depth (mm)</label>
                    <input type="number" id="single-depth" value="10" min="0" step="1">
                </div>
            </div>
            <div class="card-actions">
                <button class="btn btn-ghost" onclick="CutPlanner.preview('single')">Preview G-Code</button>
                <button class="btn btn-success" onclick="CutPlanner.run('single')">Run Job</button>
            </div>
        </div>
    </div>

    <!-- Linear Cut with Passes -->
    <div class="card" id="card-linear-passes">
        <div class="card-header">
            <h2>Linear Cut with Passes</h2>
        </div>
        <div class="card-content">
            <p class="card-description">Bidirectional Y-axis cuts with incremental depth per pass.</p>
            <div class="form-grid">
                <div class="form-group">
                    <label for="passes-start-y">Start Y (mm)</label>
                    <input type="number" id="passes-start-y" value="0" step="1">
                </div>
                <div class="form-group">
                    <label for="passes-end-y">End Y (mm)</label>
                    <input type="number" id="passes-end-y" value="100" step="1">
                </div>
                <div class="form-group">
                    <label for="passes-total-depth">Total Depth (mm)</label>
                    <input type="number" id="passes-total-depth" value="50" min="1" step="1">
                </div>
                <div class="form-group">
                    <label for="passes-forward">Forward Pass Depth (mm)</label>
                    <input type="number" id="passes-forward" value="5" min="1" step="1">
                </div>
                <div class="form-group">
                    <label for="passes-backward">Backward Pass Depth (mm)</label>
                    <input type="number" id="passes-backward" value="5" min="0" step="1">
                    <small>Set to 0 to cut only on forward passes</small>
                </div>
            </div>
            <div class="card-actions">
                <button class="btn btn-ghost" onclick="CutPlanner.preview('linear-passes')">Preview G-Code</button>
                <button class="btn btn-success" onclick="CutPlanner.run('linear-passes')">Run Job</button>
            </div>
        </div>
    </div>

    <!-- Parallel Cuts -->
    <div class="card" id="card-parallel">
        <div class="card-header">
            <h2>Parallel Cuts</h2>
        </div>
        <div class="card-content">
            <p class="card-description">Multiple fixed-depth cuts spaced apart along the X-axis.</p>
            <div class="form-grid">
                <div class="form-group">
                    <label for="parallel-start-y">Start Y (mm)</label>
                    <input type="number" id="parallel-start-y" value="0" step="1">
                </div>
                <div class="form-group">
                    <label for="parallel-end-y">End Y (mm)</label>
                    <input type="number" id="parallel-end-y" value="100" step="1">
                </div>
                <div class="form-group">
                    <label for="parallel-depth">Cut Depth (mm)</label>
                    <input type="number" id="parallel-depth" value="10" min="1" step="1">
                </div>
                <div class="form-group">
                    <label for="parallel-num-cuts">Number of Cuts</label>
                    <input type="number" id="parallel-num-cuts" value="5" min="1" step="1">
                </div>
                <div class="form-group">
                    <label for="parallel-x-step">X Step (mm)</label>
                    <input type="number" id="parallel-x-step" value="35" min="1" step="1">
                </div>
            </div>
            <div class="card-actions">
                <button class="btn btn-ghost" onclick="CutPlanner.preview('parallel')">Preview G-Code</button>
                <button class="btn btn-success" onclick="CutPlanner.run('parallel')">Run Job</button>
            </div>
        </div>
    </div>

    <!-- Parallel Cuts with Passes -->
    <div class="card" id="card-parallel-passes">
        <div class="card-header">
            <h2>Parallel Cuts with Passes</h2>
        </div>
        <div class="card-content">
            <p class="card-description">Multiple cuts with bidirectional depth passes, spaced along X.</p>
            <div class="form-grid">
                <div class="form-group">
                    <label for="pp-start-y">Start Y (mm)</label>
                    <input type="number" id="pp-start-y" value="0" step="1">
                </div>
                <div class="form-group">
                    <label for="pp-end-y">End Y (mm)</label>
                    <input type="number" id="pp-end-y" value="100" step="1">
                </div>
                <div class="form-group">
                    <label for="pp-total-depth">Total Depth (mm)</label>
                    <input type="number" id="pp-total-depth" value="50" min="1" step="1">
                </div>
                <div class="form-group">
                    <label for="pp-forward">Forward Pass Depth (mm)</label>
                    <input type="number" id="pp-forward" value="5" min="1" step="1">
                </div>
                <div class="form-group">
                    <label for="pp-backward">Backward Pass Depth (mm)</label>
                    <input type="number" id="pp-backward" value="5" min="0" step="1">
                    <small>Set to 0 to cut only on forward passes</small>
                </div>
                <div class="form-group">
                    <label for="pp-num-cuts">Number of Cuts</label>
                    <input type="number" id="pp-num-cuts" value="3" min="1" step="1">
                </div>
                <div class="form-group">
                    <label for="pp-x-step">X Step (mm)</label>
                    <input type="number" id="pp-x-step" value="35" min="1" step="1">
                </div>
            </div>
            <div class="card-actions">
                <button class="btn btn-ghost" onclick="CutPlanner.preview('parallel-passes')">Preview G-Code</button>
                <button class="btn btn-success" onclick="CutPlanner.run('parallel-passes')">Run Job</button>
            </div>
        </div>
    </div>
</div>

<!-- G-Code Preview Modal -->
<div id="gcode-preview-modal" class="modal hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h2>G-Code Preview</h2>
            <button class="modal-close" onclick="CutPlanner.closePreview()">&times;</button>
        </div>
        <div class="modal-body">
            <pre id="gcode-preview-content"></pre>
        </div>
        <div class="modal-footer">
            <button class="btn btn-ghost" onclick="CutPlanner.closePreview()">Cancel</button>
            <button class="btn btn-success" id="gcode-preview-run">Run Job</button>
        </div>
    </div>
</div>

<link rel="stylesheet" href="pages/cut-planner/cut-planner.css">
<script src="pages/cut-planner/cut-planner.js"></script>